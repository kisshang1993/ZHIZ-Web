(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)})(function(e){"use strict";var o=Math.min,r=Math.max,l=!1,t=!1,s=0,i=2e3,c=0,h=e,u=document,p=window,m=h(p),g=[],w=p.requestAnimationFrame||p.webkitRequestAnimationFrame||p.mozRequestAnimationFrame||!1,b=p.cancelAnimationFrame||p.webkitCancelAnimationFrame||p.mozCancelAnimationFrame||!1;if(!w){var v=0;w=function(e){var o=new Date().getTime(),l=r(0,16-(o-v)),t=p.setTimeout(function(){e(o+l)},l);return v=o+l,t},b=function(e){p.clearTimeout(e)}}else p.cancelAnimationFrame||(b=function(){});var y=p.MutationObserver||p.WebKitMutationObserver||!1,f=Date.now||function(){return new Date().getTime()},x={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=u.currentScript||function(){var e=u.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),o=e?e.src.split("?")[0]:"";return 0<o.split("/").length?o.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1,scrollCLass:!1},S=!1,z=function(){if(S)return S;var e=u.createElement("DIV"),o=e.style,r=navigator.userAgent,l=navigator.platform,t={};return t.haspointerlock="pointerLockElement"in u||"webkitPointerLockElement"in u||"mozPointerLockElement"in u,t.isopera="opera"in p,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isoperamini="[object OperaMini]"===Object.prototype.toString.call(p.operamini),t.isie="all"in u&&"attachEvent"in e&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in o),t.isie7=t.isie&&!t.isieold&&(!("documentMode"in u)||7===u.documentMode),t.isie8=t.isie&&"documentMode"in u&&8===u.documentMode,t.isie9=t.isie&&"performance"in p&&9===u.documentMode,t.isie10=t.isie&&"performance"in p&&10===u.documentMode,t.isie11="msRequestFullscreen"in e&&11<=u.documentMode,t.ismsedge="msCredentials"in p,t.ismozilla="MozAppearance"in o,t.iswebkit=!t.ismsedge&&"WebkitAppearance"in o,t.ischrome=t.iswebkit&&"chrome"in p,t.ischrome38=t.ischrome&&"touchAction"in o,t.ischrome22=!t.ischrome38&&t.ischrome&&t.haspointerlock,t.ischrome26=!t.ischrome38&&t.ischrome&&"transition"in o,t.cantouch="ontouchstart"in u.documentElement||"ontouchstart"in p,t.hasw3ctouch=(p.PointerEvent||!1)&&(0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints),t.hasmstouch=!t.hasw3ctouch&&(p.MSPointerEvent||!1),t.ismac=/^mac$/i.test(l),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(l),t.isios4=t.isios&&!("seal"in Object),t.isios7=t.isios&&"webkitHidden"in u,t.isios8=t.isios&&"hidden"in u,t.isios10=t.isios&&p.Proxy,t.isandroid=/android/i.test(r),t.haseventlistener="addEventListener"in e,t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1,t.trstyle="transform",t.hastransform="transform"in o||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],r=0,l=e.length;r<l;r++)if(void 0!==o[e[r]]){t.trstyle=e[r];break}t.hastransform=!!t.trstyle}(),t.hastransform&&(o[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(o[t.trstyle])),t.transitionstyle="transition",t.prefixstyle="",t.transitionend="transitionend",t.hastransition="transition"in o||function(){t.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],r=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],l=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],s=0,i=e.length;s<i;s++)if(e[s]in o){t.transitionstyle=e[s],t.prefixstyle=r[s],t.transitionend=l[s];break}t.ischrome26&&(t.prefixstyle=r[1]),t.hastransition=t.transitionstyle}(),t.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(t.ischrome&&!t.ischrome38||t.isie)&&(e=[]);for(var r,s=0,i=e.length;s<i;s++)if(r=e[s],o.cursor=r,o.cursor==r)return r;return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),t.hasmousecapture="setCapture"in e,t.hasMutationObserver=!1!==y,e=null,S=t,t},k=function(e,n){var P=Math.sqrt,M=Math.round,R=Math.abs;function d(){var e=_.doc.css(H.trstyle);return!!(e&&"matrix"==e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function S(){var e=_.win;if("zIndex"in e)return e.zIndex();for(;0<e.length;){if(9==e[0].nodeType)return!1;var o=e.css("zIndex");if(!isNaN(o)&&0!==o)return parseInt(o);e=e.parent()}return!1}function k(e,o,r){var l=e.css(o),t=parseFloat(l);if(isNaN(t)){t=B[l]||0;var s=3==t?r?_.win.outerHeight()-_.win.innerHeight():_.win.outerWidth()-_.win.innerWidth():1;return _.isie8&&t&&(t+=1),s?t:0}return t}function E(o,r,l,e){_._bind(o,r,function(t){t=t||p.event;var s={original:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},stopImmediatePropagation:function(){t.stopImmediatePropagation?t.stopImmediatePropagation():t.cancelBubble=!0}};return"mousewheel"==r?(t.wheelDeltaX&&(s.deltaX=-1/40*t.wheelDeltaX),t.wheelDeltaY&&(s.deltaY=-1/40*t.wheelDeltaY),!s.deltaY&&!s.deltaX&&(s.deltaY=-1/40*t.wheelDelta)):s.deltaY=t.detail,l.call(o,s)},e)}function L(e,o,r,l){_.scrollrunning||(_.newscrolly=_.getScrollTop(),_.newscrollx=_.getScrollLeft(),Z=f());var t=f()-Z;if(Z=f(),350<t?F=1:F+=(2-F)/10,e=0|e*F,o=0|o*F,e){if(l)if(0>e){if(_.getScrollLeft()>=_.page.maxw)return!0;}else if(0>=_.getScrollLeft())return!0;var s=0<e?1:-1;j!==s&&(_.scrollmom&&_.scrollmom.stop(),_.newscrollx=_.getScrollLeft(),j=s),_.lastdeltax-=e}if(o){var i=function(){var e=_.getScrollTop();if(0>o){if(e>=_.page.maxh)return!0;}else if(0>=e)return!0}();if(i){if(Y.nativeparentscrolling&&r&&!_.ispage&&!_.zoomactive)return!0;var a=_.view.h>>1;_.newscrolly<-a?(_.newscrolly=-a,o=-1):_.newscrolly>_.page.maxh+a?(_.newscrolly=_.page.maxh+a,o=1):o=0}var n=0<o?1:-1;W!==n&&(_.scrollmom&&_.scrollmom.stop(),_.newscrolly=_.getScrollTop(),W=n),_.lastdeltay-=o}(o||e)&&_.synched("relativexy",function(){var e=_.lastdeltay+_.newscrolly;_.lastdeltay=0;var o=_.lastdeltax+_.newscrollx;_.lastdeltax=0,_.rail.drag||_.doScrollPos(o,e)})}function C(o,e,r){var l,t;if(!r&&U)return!0;if(0===o.deltaMode?(l=0|-(o.deltaX*(Y.mousescrollstep/54)),t=0|-(o.deltaY*(Y.mousescrollstep/54))):1===o.deltaMode&&(l=0|-(50*(o.deltaX*Y.mousescrollstep)/80),t=0|-(50*(o.deltaY*Y.mousescrollstep)/80)),e&&Y.oneaxismousemode&&0===l&&t&&(l=t,t=0,r)){var s=0>l?_.getScrollLeft()>=_.page.maxw:0>=_.getScrollLeft();s&&(t=l,l=0)}_.isrtlmode&&(l=-l);var i=L(l,t,r,!0);return i?void(r&&(U=!0)):(U=!1,o.stopImmediatePropagation(),o.preventDefault())}var _=this;this.version="3.7.6",this.name="nicescroll",this.me=n;var N=h("body"),Y=this.opt={doc:N,win:!1};if(h.extend(Y,x),Y.snapbackspeed=80,e||!1)for(var X in Y)void 0!==e[X]&&(Y[X]=e[X]);if(Y.disablemutationobserver&&(y=!1),this.doc=Y.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(Y.win?Y.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==Y.win,this.win=Y.win||(this.ispage?m:this.doc),this.docscroll=this.ispage&&!this.haswrapper?m:this.win,this.body=N,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=Y.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==Y.rtlmode){var a=this.win[0]==p?this.body:this.win,v=a.css("writing-mode")||a.css("-webkit-writing-mode")||a.css("-ms-writing-mode")||a.css("-moz-writing-mode");"horizontal-tb"==v||"lr-tb"==v||""===v?(this.isrtlmode="rtl"==a.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==v||"tb"==v||"tb-rl"==v||"rl-tb"==v,this.isvertical="vertical-rl"==v||"tb"==v||"tb-rl"==v)}else this.isrtlmode=!0===Y.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==Y.scrollbarid)this.id=Y.scrollbarid;else do this.id="ascrail"+i++;while(u.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=Y.overflowx,this.overflowy=Y.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=z();var H=h.extend({},this.detected);this.canhwscroll=H.hastransform&&Y.hwacceleration,this.ishwscroll=this.canhwscroll&&_.haswrapper,this.hasreversehr=!!this.isrtlmode&&(this.isvertical?!(H.iswebkit||H.isie||H.isie11):!H.iswebkit&&(!H.isie||H.isie10||H.isie11)),this.istouchcapable=!1,!H.cantouch&&(H.hasw3ctouch||H.hasmstouch)?this.istouchcapable=!0:H.cantouch&&!H.isios&&!H.isandroid&&(H.iswebkit||H.ismozilla)&&(this.istouchcapable=!0),Y.enablemouselockapi||(H.hasmousecapture=!1,H.haspointerlock=!1),this.debounced=function(e,o,r){if(_){var l=_.delaylist[e]||!1;l||(_.delaylist[e]={h:w(function(){_.delaylist[e].fn.call(_),_.delaylist[e]=!1},r)},o.call(_)),_.delaylist[e].fn=o}},this.synched=function(e,o){_.synclist[e]?_.synclist[e]=o:(_.synclist[e]=o,w(function(){_&&(_.synclist[e]&&_.synclist[e].call(_),_.synclist[e]=null)}))},this.unsynched=function(e){_.synclist[e]&&(_.synclist[e]=!1)},this.css=function(e,o){for(var r in o)_.saved.css.push([e,r,e.css(r)]),e.css(r,o[r])},this.scrollTop=function(e){return void 0===e?_.getScrollTop():_.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?_.getScrollLeft():_.setScrollLeft(e)};var I=function(e,o,r,l,t,s,i){this.st=e,this.ed=o,this.spd=r,this.p1=l||0,this.p2=t||1,this.p3=s||0,this.p4=i||1,this.ts=f(),this.df=o-e};if(I.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(f()-this.ts)/this.spd},getNow:function(){var e=(f()-this.ts)/this.spd,o=this.B2(e)+this.B3(e)+this.B4(e);return 1<=e?this.ed:0|this.st+this.df*o},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=f(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},H.hastranslate3d&&H.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var o=d();if(o)return 16==o.length?-o[13]:-o[5];if(_.timerscroll&&_.timerscroll.bz)return _.timerscroll.bz.getNow()}return _.doc.translate.y},this.getScrollLeft=function(e){if(!e){var o=d();if(o)return 16==o.length?-o[12]:-o[4];if(_.timerscroll&&_.timerscroll.bh)return _.timerscroll.bh.getNow()}return _.doc.translate.x},this.notifyScrollEvent=function(o){var r=u.createEvent("UIEvents");r.initUIEvent("scroll",!1,!1,p,1),r.niceevent=!0,o.dispatchEvent(r)};var O=this.isrtlmode?1:-1;H.hastranslate3d&&Y.enabletranslate3d?(this.setScrollTop=function(e,o){_.doc.translate.y=e,_.doc.translate.ty=-1*e+"px",_.doc.css(H.trstyle,"translate3d("+_.doc.translate.tx+","+_.doc.translate.ty+",0)"),o||_.notifyScrollEvent(_.win[0])},this.setScrollLeft=function(e,o){_.doc.translate.x=e,_.doc.translate.tx=e*O+"px",_.doc.css(H.trstyle,"translate3d("+_.doc.translate.tx+","+_.doc.translate.ty+",0)"),o||_.notifyScrollEvent(_.win[0])}):(this.setScrollTop=function(e,o){_.doc.translate.y=e,_.doc.translate.ty=-1*e+"px",_.doc.css(H.trstyle,"translate("+_.doc.translate.tx+","+_.doc.translate.ty+")"),o||_.notifyScrollEvent(_.win[0])},this.setScrollLeft=function(e,o){_.doc.translate.x=e,_.doc.translate.tx=e*O+"px",_.doc.css(H.trstyle,"translate("+_.doc.translate.tx+","+_.doc.translate.ty+")"),o||_.notifyScrollEvent(_.win[0])})}else this.getScrollTop=function(){return _.docscroll.scrollTop()},this.setScrollTop=function(e){_.docscroll.scrollTop(e)},this.getScrollLeft=function(){var e;return e=_.hasreversehr?_.detected.ismozilla?_.page.maxw-R(_.docscroll.scrollLeft()):_.page.maxw-_.docscroll.scrollLeft():_.docscroll.scrollLeft(),e},this.setScrollLeft=function(e){return setTimeout(function(){if(_)return _.hasreversehr&&(_.detected.ismozilla?e=-(_.page.maxw-e):e=_.page.maxw-e),_.docscroll.scrollLeft(e)},1)};this.getTarget=function(o){return!!o&&(o.target?o.target:!!o.srcElement&&o.srcElement)},this.hasParent=function(o,e){if(!o)return!1;for(var r=o.target||o.srcElement||o||!1;r&&r.id!=e;)r=r.parentNode||!1;return!1!==r};var B={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:p.pageYOffset||u.documentElement.scrollTop,left:p.pageXOffset||u.documentElement.scrollLeft}},this.getOffset=function(){if(_.isfixed){var e=_.win.offset(),o=_.getDocumentScrollOffset();return e.top-=o.top,e.left-=o.left,e}var r=_.win.offset();if(!_.viewport)return r;var l=_.viewport.offset();return{top:r.top-l.top,left:r.left-l.left}},this.updateScrollBar=function(e){var o,r;if(_.ishwscroll)_.rail.css({height:_.win.innerHeight()-(Y.railpadding.top+Y.railpadding.bottom)}),_.railh&&_.railh.css({width:_.win.innerWidth()-(Y.railpadding.left+Y.railpadding.right)});else{var l=_.getOffset();if(o={top:l.top,left:l.left-(Y.railpadding.left+Y.railpadding.right)},o.top+=k(_.win,"border-top-width",!0),o.left+=_.rail.align?_.win.outerWidth()-k(_.win,"border-right-width")-_.rail.width:k(_.win,"border-left-width"),r=Y.railoffset,r&&(r.top&&(o.top+=r.top),r.left&&(o.left+=r.left)),_.railslocked||_.rail.css({top:o.top,left:o.left,height:(e?e.h:_.win.innerHeight())-(Y.railpadding.top+Y.railpadding.bottom)}),_.zoom&&_.zoom.css({top:o.top+1,left:1==_.rail.align?o.left-20:o.left+_.rail.width+4}),_.railh&&!_.railslocked){o={top:l.top,left:l.left},r=Y.railhoffset,r&&(r.top&&(o.top+=r.top),r.left&&(o.left+=r.left));var t=_.railh.align?o.top+k(_.win,"border-top-width",!0)+_.win.innerHeight()-_.railh.height:o.top+k(_.win,"border-top-width",!0),s=o.left+k(_.win,"border-left-width");_.railh.css({top:t-(Y.railpadding.top+Y.railpadding.bottom),left:s,width:_.railh.width})}}},this.doRailClick=function(o,e,r){var l,t,s,i;_.railslocked||(_.cancelEvent(o),!("pageY"in o)&&(o.pageX=o.clientX+u.documentElement.scrollLeft,o.pageY=o.clientY+u.documentElement.scrollTop),e?(l=r?_.doScrollLeft:_.doScrollTop,s=r?(o.pageX-_.railh.offset().left-_.cursorwidth/2)*_.scrollratio.x:(o.pageY-_.rail.offset().top-_.cursorheight/2)*_.scrollratio.y,_.unsynched("relativexy"),l(0|s)):(l=r?_.doScrollLeftBy:_.doScrollBy,s=r?_.scroll.x:_.scroll.y,i=r?o.pageX-_.railh.offset().left:o.pageY-_.rail.offset().top,t=r?_.view.w:_.view.h,l(s>=i?t:-t)))},_.newscrolly=_.newscrollx=0,_.hasanimationframe="requestAnimationFrame"in p,_.hascancelanimationframe="cancelAnimationFrame"in p,_.hasborderbox=!1,this.init=function(){if(_.saved.css=[],H.isoperamini)return!0;if(H.isandroid&&!("hidden"in u))return!0;Y.emulatetouch=Y.emulatetouch||Y.touchbehavior,_.hasborderbox=p.getComputedStyle&&"border-box"===p.getComputedStyle(u.body)["box-sizing"];var e={"overflow-y":"hidden"};if((H.isie11||H.isie10)&&(e["-ms-overflow-style"]="none"),_.ishwscroll&&(this.doc.css(H.transitionstyle,H.prefixstyle+"transform 0ms ease-out"),H.transitionend&&_.bind(_.doc,H.transitionend,_.onScrollTransitionEnd,!1)),_.zindex="auto",_.zindex=_.ispage||"auto"!=Y.zindex?Y.zindex:S()||"auto",!_.ispage&&"auto"!=_.zindex&&_.zindex>c&&(c=_.zindex),_.isie&&0===_.zindex&&"auto"==Y.zindex&&(_.zindex="auto"),!_.ispage||!H.isieold){var o=_.docscroll;_.ispage&&(o=_.haswrapper?_.win:_.doc),_.css(o,e),_.ispage&&(H.isie11||H.isie)&&_.css(h("html"),e),!H.isios||_.ispage||_.haswrapper||_.css(N,{"-webkit-overflow-scrolling":"touch"});var i=h(u.createElement("div"));i.css({position:"relative",top:0,float:"right",width:Y.cursorwidth,height:0,"background-color":Y.cursorcolor,border:Y.cursorborder,"background-clip":"padding-box","-webkit-border-radius":Y.cursorborderradius,"-moz-border-radius":Y.cursorborderradius,"border-radius":Y.cursorborderradius}),i.addClass("nicescroll-cursors"),_.cursor=i;var d=h(u.createElement("div"));d.attr("id",_.id),d.addClass("nicescroll-rails nicescroll-rails-vr"),Y.scrollCLass&&d.addClass(Y.scrollCLass);var g,w,b=["left","right","top","bottom"];for(var f in b)w=b[f],g=Y.railpadding[w]||0,g&&d.css("padding-"+w,g+"px");d.append(i),d.width=r(parseFloat(Y.cursorwidth),i.outerWidth()),d.css({width:d.width+"px",zIndex:_.zindex,background:Y.background,cursor:"default"}),d.visibility=!0,d.scrollable=!0,d.align="left"==Y.railalign?0:1,_.rail=d,_.rail.drag=!1;var n=!1;!Y.boxzoom||_.ispage||H.isieold||(n=u.createElement("div"),_.bind(n,"click",_.doZoom),_.bind(n,"mouseenter",function(){_.zoom.css("opacity",Y.cursoropacitymax)}),_.bind(n,"mouseleave",function(){_.zoom.css("opacity",Y.cursoropacitymin)}),_.zoom=h(n),_.zoom.css({cursor:"pointer",zIndex:_.zindex,backgroundImage:"url("+Y.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),Y.dblclickzoom&&_.bind(_.win,"dblclick",_.doZoom),H.cantouch&&Y.gesturezoom&&(_.ongesturezoom=function(o){return 1.5<o.scale&&_.doZoomIn(o),.8>o.scale&&_.doZoomOut(o),_.cancelEvent(o)},_.bind(_.win,"gestureend",_.ongesturezoom))),_.railh=!1;var x;if(Y.horizrailenabled&&(_.css(o,{overflowX:"hidden"}),i=h(u.createElement("div")),i.css({position:"absolute",top:0,height:Y.cursorwidth,width:0,backgroundColor:Y.cursorcolor,border:Y.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":Y.cursorborderradius,"-moz-border-radius":Y.cursorborderradius,"border-radius":Y.cursorborderradius}),H.isieold&&i.css("overflow","hidden"),i.addClass("nicescroll-cursors"),_.cursorh=i,x=h(u.createElement("div")),x.attr("id",_.id+"-hr"),x.addClass("nicescroll-rails nicescroll-rails-hr"),Y.scrollCLass&&x.addClass(Y.scrollCLass),x.height=r(parseFloat(Y.cursorwidth),i.outerHeight()),x.css({height:x.height+"px",zIndex:_.zindex,background:Y.background}),x.append(i),x.visibility=!0,x.scrollable=!0,x.align="top"==Y.railvalign?0:1,_.railh=x,_.railh.drag=!1),_.ispage)d.css({position:"fixed",top:0,height:"100%"}),d.css(d.align?{right:0}:{left:0}),_.body.append(d),_.railh&&(x.css({position:"fixed",left:0,width:"100%"}),x.css(x.align?{bottom:0}:{top:0}),_.body.append(x));else{if(_.ishwscroll){"static"==_.win.css("position")&&_.css(_.win,{position:"relative"});var z="HTML"==_.win[0].nodeName?_.body:_.win;h(z).scrollTop(0).scrollLeft(0),_.zoom&&(_.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),z.append(_.zoom)),d.css({position:"absolute",top:0}),d.css(d.align?{right:0}:{left:0}),z.append(d),x&&(x.css({position:"absolute",left:0,bottom:0}),x.css(x.align?{bottom:0}:{top:0}),z.append(x))}else{_.isfixed="fixed"==_.win.css("position");var k=_.isfixed?"fixed":"absolute";_.isfixed||(_.viewport=_.getViewport(_.win[0])),_.viewport&&(_.body=_.viewport,!/fixed|absolute/.test(_.viewport.css("position"))&&_.css(_.viewport,{position:"relative"})),d.css({position:k}),_.zoom&&_.zoom.css({position:k}),_.updateScrollBar(),_.body.append(d),_.zoom&&_.body.append(_.zoom),_.railh&&(x.css({position:k}),_.body.append(x))}H.isios&&_.css(_.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),Y.disableoutline&&(H.isie&&_.win.attr("hideFocus","true"),H.iswebkit&&_.win.css("outline","none"))}if(!1===Y.autohidemode?(_.autohidedom=!1,_.rail.css({opacity:Y.cursoropacitymax}),_.railh&&_.railh.css({opacity:Y.cursoropacitymax})):!0===Y.autohidemode||"leave"===Y.autohidemode?(_.autohidedom=h().add(_.rail),H.isie8&&(_.autohidedom=_.autohidedom.add(_.cursor)),_.railh&&(_.autohidedom=_.autohidedom.add(_.railh)),_.railh&&H.isie8&&(_.autohidedom=_.autohidedom.add(_.cursorh))):"scroll"==Y.autohidemode?(_.autohidedom=h().add(_.rail),_.railh&&(_.autohidedom=_.autohidedom.add(_.railh))):"cursor"==Y.autohidemode?(_.autohidedom=h().add(_.cursor),_.railh&&(_.autohidedom=_.autohidedom.add(_.cursorh))):"hidden"==Y.autohidemode&&(_.autohidedom=!1,_.hide(),_.railslocked=!1),H.cantouch||_.istouchcapable||Y.emulatetouch||H.hasmstouch){_.scrollmom=new T(_);_.ontouchstart=function(o){if(_.locked)return!1;if(o.pointerType&&("mouse"===o.pointerType||o.pointerType===o.MSPOINTER_TYPE_MOUSE))return!1;if(_.hasmoving=!1,_.scrollmom.timer&&(_.triggerScrollEnd(),_.scrollmom.stop()),!_.railslocked){var r=_.getTarget(o);if(r){var l=/INPUT/i.test(r.nodeName)&&/range/i.test(r.type);if(l)return _.stopPropagation(o)}var t="mousedown"===o.type;if(!("clientX"in o)&&"changedTouches"in o&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),_.forcescreen){var s=o;o={original:o.original?o.original:o},o.clientX=s.screenX,o.clientY=s.screenY}if(_.rail.drag={x:o.clientX,y:o.clientY,sx:_.scroll.x,sy:_.scroll.y,st:_.getScrollTop(),sl:_.getScrollLeft(),pt:2,dl:!1,tg:r},_.ispage||!Y.directionlockdeadzone)_.rail.drag.dl="f";else{var i={w:m.width(),h:m.height()},a=_.getContentSize(),n=a.h-i.h,c=a.w-i.w;_.rail.drag.ck=_.rail.scrollable&&!_.railh.scrollable?!!(0<n)&&"v":!_.rail.scrollable&&_.railh.scrollable&&!!(0<c)&&"h"}if(Y.emulatetouch&&_.isiframe&&H.isie){var d=_.win.position();_.rail.drag.x+=d.left,_.rail.drag.y+=d.top}if(_.hasmoving=!1,_.lastmouseup=!1,_.scrollmom.reset(o.clientX,o.clientY),r&&t){var u=/INPUT|SELECT|BUTTON|TEXTAREA/i.test(r.nodeName);if(!u)return H.hasmousecapture&&r.setCapture(),Y.emulatetouch?(r.onclick&&!r._onclick&&1&&(r._onclick=r.onclick,r.onclick=function(o){return!_.hasmoving&&void r._onclick.call(this,o)}),_.cancelEvent(o)):_.stopPropagation(o);/SUBMIT|CANCEL|BUTTON/i.test(h(r).attr("type"))&&(_.preventclick={tg:r,click:!1})}}},_.ontouchend=function(o){if(!_.rail.drag)return!0;if(2==_.rail.drag.pt){if(o.pointerType&&("mouse"===o.pointerType||o.pointerType===o.MSPOINTER_TYPE_MOUSE))return!1;_.rail.drag=!1;var e="mouseup"===o.type;if(_.hasmoving&&(_.scrollmom.doMomentum(),_.lastmouseup=!0,_.hideCursor(),H.hasmousecapture&&u.releaseCapture(),e))return _.cancelEvent(o)}else if(1==_.rail.drag.pt)return _.onmouseup(o)};var E=Y.emulatetouch&&_.isiframe&&!H.hasmousecapture,L=0|.3*Y.directionlockdeadzone;_.ontouchmove=function(o,e){if(!_.rail.drag)return!0;if(o.targetTouches&&Y.preventmultitouchscrolling&&1<o.targetTouches.length)return!0;if(o.pointerType&&("mouse"===o.pointerType||o.pointerType===o.MSPOINTER_TYPE_MOUSE))return!0;if(2==_.rail.drag.pt){"changedTouches"in o&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY);var r,l;if(l=r=0,E&&!e){var t=_.win.position();l=-t.left,r=-t.top}var s=o.clientY+r,i=s-_.rail.drag.y,a=o.clientX+l,n=a-_.rail.drag.x,c=_.rail.drag.st-i;if(_.ishwscroll&&Y.bouncescroll)0>c?c=M(c/2):c>_.page.maxh&&(c=_.page.maxh+M((c-_.page.maxh)/2));else if(0>c?(c=0,s=0):c>_.page.maxh&&(c=_.page.maxh,s=0),0===s&&!_.hasmoving)return _.ispage||(_.rail.drag=!1),!0;var d=_.getScrollLeft();if(_.railh&&_.railh.scrollable&&(d=_.isrtlmode?n-_.rail.drag.sl:_.rail.drag.sl-n,_.ishwscroll&&Y.bouncescroll?0>d?d=M(d/2):d>_.page.maxw&&(d=_.page.maxw+M((d-_.page.maxw)/2)):(0>d&&(d=0,a=0),d>_.page.maxw&&(d=_.page.maxw,a=0))),!_.hasmoving){if(_.rail.drag.y===o.clientY&&_.rail.drag.x===o.clientX)return _.cancelEvent(o);var h=R(i),p=R(n),m=Y.directionlockdeadzone;if(_.rail.drag.ck?"v"==_.rail.drag.ck?p>m&&h<=L?_.rail.drag=!1:h>m&&(_.rail.drag.dl="v"):"h"==_.rail.drag.ck&&(h>m&&p<=L?_.rail.drag=!1:p>m&&(_.rail.drag.dl="h")):h>m&&p>m?_.rail.drag.dl="f":h>m?_.rail.drag.dl=p>L?"f":"v":p>m&&(_.rail.drag.dl=h>L?"f":"h"),!_.rail.drag.dl)return _.cancelEvent(o);_.triggerScrollStart(o.clientX,o.clientY,0,0,0),_.hasmoving=!0}return _.preventclick&&!_.preventclick.click&&(_.preventclick.click=_.preventclick.tg.onclick||!1,_.preventclick.tg.onclick=_.onpreventclick),_.rail.drag.dl&&("v"==_.rail.drag.dl?d=_.rail.drag.sl:"h"==_.rail.drag.dl&&(c=_.rail.drag.st)),_.synched("touchmove",function(){_.rail.drag&&2==_.rail.drag.pt&&(_.prepareTransition&&_.resetTransition(),_.rail.scrollable&&_.setScrollTop(c),_.scrollmom.update(a,s),_.railh&&_.railh.scrollable?(_.setScrollLeft(d),_.showCursor(c,d)):_.showCursor(c),H.isie10&&u.selection.clear())}),_.cancelEvent(o)}return 1==_.rail.drag.pt?_.onmousemove(o):void 0},_.ontouchstartCursor=function(o,e){if(!(_.rail.drag&&3!=_.rail.drag.pt)){if(_.locked)return _.cancelEvent(o);_.cancelScroll(),_.rail.drag={x:o.touches[0].clientX,y:o.touches[0].clientY,sx:_.scroll.x,sy:_.scroll.y,pt:3,hr:!!e};var r=_.getTarget(o);return!_.ispage&&H.hasmousecapture&&r.setCapture(),_.isiframe&&!H.hasmousecapture&&(_.saved.csspointerevents=_.doc.css("pointer-events"),_.css(_.doc,{"pointer-events":"none"})),_.cancelEvent(o)}},_.ontouchendCursor=function(o){if(_.rail.drag)return(H.hasmousecapture&&u.releaseCapture(),_.isiframe&&!H.hasmousecapture&&_.doc.css("pointer-events",_.saved.csspointerevents),3!=_.rail.drag.pt)?void 0:(_.rail.drag=!1,_.cancelEvent(o))},_.ontouchmoveCursor=function(o){if(_.rail.drag){if(3!=_.rail.drag.pt)return;if(_.cursorfreezed=!0,_.rail.drag.hr){_.scroll.x=_.rail.drag.sx+(o.touches[0].clientX-_.rail.drag.x),0>_.scroll.x&&(_.scroll.x=0);var e=_.scrollvaluemaxw;_.scroll.x>e&&(_.scroll.x=e)}else{_.scroll.y=_.rail.drag.sy+(o.touches[0].clientY-_.rail.drag.y),0>_.scroll.y&&(_.scroll.y=0);var r=_.scrollvaluemax;_.scroll.y>r&&(_.scroll.y=r)}return _.synched("touchmove",function(){_.rail.drag&&3==_.rail.drag.pt&&(_.showCursor(),_.rail.drag.hr?_.doScrollLeft(M(_.scroll.x*_.scrollratio.x),Y.cursordragspeed):_.doScrollTop(M(_.scroll.y*_.scrollratio.y),Y.cursordragspeed))}),_.cancelEvent(o)}}}if(_.onmousedown=function(o,e){if(!(_.rail.drag&&1!=_.rail.drag.pt)){if(_.railslocked)return _.cancelEvent(o);_.cancelScroll(),_.rail.drag={x:o.clientX,y:o.clientY,sx:_.scroll.x,sy:_.scroll.y,pt:1,hr:e||!1};var r=_.getTarget(o);return H.hasmousecapture&&r.setCapture(),_.isiframe&&!H.hasmousecapture&&(_.saved.csspointerevents=_.doc.css("pointer-events"),_.css(_.doc,{"pointer-events":"none"})),_.hasmoving=!1,_.cancelEvent(o)}},_.onmouseup=function(o){if(_.rail.drag)return 1!=_.rail.drag.pt||(H.hasmousecapture&&u.releaseCapture(),_.isiframe&&!H.hasmousecapture&&_.doc.css("pointer-events",_.saved.csspointerevents),_.rail.drag=!1,_.cursorfreezed=!1,_.hasmoving&&_.triggerScrollEnd(),_.cancelEvent(o))},_.onmousemove=function(o){if(_.rail.drag){if(1!==_.rail.drag.pt)return;if(H.ischrome&&0===o.which)return _.onmouseup(o);if(_.cursorfreezed=!0,_.hasmoving||_.triggerScrollStart(o.clientX,o.clientY,0,0,0),_.hasmoving=!0,_.rail.drag.hr){_.scroll.x=_.rail.drag.sx+(o.clientX-_.rail.drag.x),0>_.scroll.x&&(_.scroll.x=0);var e=_.scrollvaluemaxw;_.scroll.x>e&&(_.scroll.x=e)}else{_.scroll.y=_.rail.drag.sy+(o.clientY-_.rail.drag.y),0>_.scroll.y&&(_.scroll.y=0);var r=_.scrollvaluemax;_.scroll.y>r&&(_.scroll.y=r)}return _.synched("mousemove",function(){_.cursorfreezed&&(_.showCursor(),_.rail.drag.hr?_.scrollLeft(M(_.scroll.x*_.scrollratio.x)):_.scrollTop(M(_.scroll.y*_.scrollratio.y)))}),_.cancelEvent(o)}_.checkarea=0},H.cantouch||Y.emulatetouch)_.onpreventclick=function(o){if(_.preventclick)return _.preventclick.tg.onclick=_.preventclick.click,_.preventclick=!1,_.cancelEvent(o)},_.onclick=!H.isios&&function(o){return!_.lastmouseup||(_.lastmouseup=!1,_.cancelEvent(o))},Y.grabcursorenabled&&H.cursorgrabvalue&&(_.css(_.ispage?_.doc:_.win,{cursor:H.cursorgrabvalue}),_.css(_.rail,{cursor:H.cursorgrabvalue}));else{var C=function(o){if(_.selectiondrag){if(o){var e=_.win.outerHeight(),r=o.pageY-_.selectiondrag.top;0<r&&r<e&&(r=0),r>=e&&(r-=e),_.selectiondrag.df=r}if(0!==_.selectiondrag.df){var l=0|-(2*_.selectiondrag.df/6);_.doScrollBy(l),_.debounced("doselectionscroll",function(){C()},50)}}};_.hasTextSelected="getSelection"in u?function(){return 0<u.getSelection().rangeCount}:"selection"in u?function(){return"None"!=u.selection.type}:function(){return!1},_.onselectionstart=function(){_.ispage||(_.selectiondrag=_.win.offset())},_.onselectionend=function(){_.selectiondrag=!1},_.onselectiondrag=function(o){!_.selectiondrag||_.hasTextSelected()&&_.debounced("selectionscroll",function(){C(o)},250)}}if(H.hasw3ctouch?(_.css(_.ispage?h("html"):_.win,{"touch-action":"none"}),_.css(_.rail,{"touch-action":"none"}),_.css(_.cursor,{"touch-action":"none"}),_.bind(_.win,"pointerdown",_.ontouchstart),_.bind(u,"pointerup",_.ontouchend),_.delegate(u,"pointermove",_.ontouchmove)):H.hasmstouch?(_.css(_.ispage?h("html"):_.win,{"-ms-touch-action":"none"}),_.css(_.rail,{"-ms-touch-action":"none"}),_.css(_.cursor,{"-ms-touch-action":"none"}),_.bind(_.win,"MSPointerDown",_.ontouchstart),_.bind(u,"MSPointerUp",_.ontouchend),_.delegate(u,"MSPointerMove",_.ontouchmove),_.bind(_.cursor,"MSGestureHold",function(o){o.preventDefault()}),_.bind(_.cursor,"contextmenu",function(o){o.preventDefault()})):H.cantouch&&(_.bind(_.win,"touchstart",_.ontouchstart,!1,!0),_.bind(u,"touchend",_.ontouchend,!1,!0),_.bind(u,"touchcancel",_.ontouchend,!1,!0),_.delegate(u,"touchmove",_.ontouchmove,!1,!0)),Y.emulatetouch&&(_.bind(_.win,"mousedown",_.ontouchstart,!1,!0),_.bind(u,"mouseup",_.ontouchend,!1,!0),_.bind(u,"mousemove",_.ontouchmove,!1,!0)),!Y.cursordragontouch&&(H.cantouch||Y.emulatetouch)||(_.rail.css({cursor:"default"}),_.railh&&_.railh.css({cursor:"default"}),_.jqbind(_.rail,"mouseenter",function(){return!!(_.ispage||_.win.is(":visible"))&&void(_.canshowonmouseevent&&_.showCursor(),_.rail.active=!0)}),_.jqbind(_.rail,"mouseleave",function(){_.rail.active=!1,_.rail.drag||_.hideCursor()}),Y.sensitiverail&&(_.bind(_.rail,"click",function(o){_.doRailClick(o,!1,!1)}),_.bind(_.rail,"dblclick",function(o){_.doRailClick(o,!0,!1)}),_.bind(_.cursor,"click",function(o){_.cancelEvent(o)}),_.bind(_.cursor,"dblclick",function(o){_.cancelEvent(o)})),_.railh&&(_.jqbind(_.railh,"mouseenter",function(){return!!(_.ispage||_.win.is(":visible"))&&void(_.canshowonmouseevent&&_.showCursor(),_.rail.active=!0)}),_.jqbind(_.railh,"mouseleave",function(){_.rail.active=!1,_.rail.drag||_.hideCursor()}),Y.sensitiverail&&(_.bind(_.railh,"click",function(o){_.doRailClick(o,!1,!0)}),_.bind(_.railh,"dblclick",function(o){_.doRailClick(o,!0,!0)}),_.bind(_.cursorh,"click",function(o){_.cancelEvent(o)}),_.bind(_.cursorh,"dblclick",function(o){_.cancelEvent(o)})))),Y.cursordragontouch&&(this.istouchcapable||H.cantouch)&&(_.bind(_.cursor,"touchstart",_.ontouchstartCursor),_.bind(_.cursor,"touchmove",_.ontouchmoveCursor),_.bind(_.cursor,"touchend",_.ontouchendCursor),_.cursorh&&_.bind(_.cursorh,"touchstart",function(o){_.ontouchstartCursor(o,!0)}),_.cursorh&&_.bind(_.cursorh,"touchmove",_.ontouchmoveCursor),_.cursorh&&_.bind(_.cursorh,"touchend",_.ontouchendCursor)),Y.emulatetouch||H.isandroid||H.isios?(_.bind(H.hasmousecapture?_.win:u,"mouseup",_.ontouchend),_.onclick&&_.bind(u,"click",_.onclick),Y.cursordragontouch?(_.bind(_.cursor,"mousedown",_.onmousedown),_.bind(_.cursor,"mouseup",_.onmouseup),_.cursorh&&_.bind(_.cursorh,"mousedown",function(o){_.onmousedown(o,!0)}),_.cursorh&&_.bind(_.cursorh,"mouseup",_.onmouseup)):(_.bind(_.rail,"mousedown",function(o){o.preventDefault()}),_.railh&&_.bind(_.railh,"mousedown",function(o){o.preventDefault()}))):(_.bind(H.hasmousecapture?_.win:u,"mouseup",_.onmouseup),_.bind(u,"mousemove",_.onmousemove),_.onclick&&_.bind(u,"click",_.onclick),_.bind(_.cursor,"mousedown",_.onmousedown),_.bind(_.cursor,"mouseup",_.onmouseup),_.railh&&(_.bind(_.cursorh,"mousedown",function(o){_.onmousedown(o,!0)}),_.bind(_.cursorh,"mouseup",_.onmouseup)),!_.ispage&&Y.enablescrollonselection&&(_.bind(_.win[0],"mousedown",_.onselectionstart),_.bind(u,"mouseup",_.onselectionend),_.bind(_.cursor,"mouseup",_.onselectionend),_.cursorh&&_.bind(_.cursorh,"mouseup",_.onselectionend),_.bind(u,"mousemove",_.onselectiondrag)),_.zoom&&(_.jqbind(_.zoom,"mouseenter",function(){_.canshowonmouseevent&&_.showCursor(),_.rail.active=!0}),_.jqbind(_.zoom,"mouseleave",function(){_.rail.active=!1,_.rail.drag||_.hideCursor()}))),Y.enablemousewheel&&(!_.isiframe&&_.mousewheel(H.isie&&_.ispage?u:_.win,_.onmousewheel),_.mousewheel(_.rail,_.onmousewheel),_.railh&&_.mousewheel(_.railh,_.onmousewheelhr)),_.ispage||H.cantouch||/HTML|^BODY/.test(_.win[0].nodeName)||(!_.win.attr("tabindex")&&_.win.attr({tabindex:++s}),_.bind(_.win,"focus",function(o){l=_.getTarget(o).id||_.getTarget(o)||!1,_.hasfocus=!0,_.canshowonmouseevent&&_.noticeCursor()}),_.bind(_.win,"blur",function(){l=!1,_.hasfocus=!1}),_.bind(_.win,"mouseenter",function(o){t=_.getTarget(o).id||_.getTarget(o)||!1,_.hasmousefocus=!0,_.canshowonmouseevent&&_.noticeCursor()}),_.bind(_.win,"mouseleave",function(){t=!1,_.hasmousefocus=!1,_.rail.drag||_.hideCursor()})),_.onkeypress=function(o){if(_.railslocked&&0===_.page.maxh)return!0;o=o||p.event;var r=_.getTarget(o);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)){var s=r.getAttribute("type")||r.type||!1;if(!s||!/submit|button|cancel/i.tp)return!0}if(h(r).attr("contenteditable"))return!0;if(_.hasfocus||_.hasmousefocus&&!l||_.ispage&&!l&&!t){var i=o.keyCode;if(_.railslocked&&27!=i)return _.cancelEvent(o);var a=o.ctrlKey||!1,n=o.shiftKey||!1,c=!1;if(38===i||63233===i?(_.doScrollBy(72),c=!0):40===i||63235===i?(_.doScrollBy(-72),c=!0):37===i||63232===i?_.railh&&(a?_.doScrollLeft(0):_.doScrollLeftBy(72),c=!0):39===i||63234===i?_.railh&&(a?_.doScrollLeft(_.page.maxw):_.doScrollLeftBy(-72),c=!0):33===i||63276===i?(_.doScrollBy(_.view.h),c=!0):34===i||63277===i?(_.doScrollBy(-_.view.h),c=!0):36===i||63273===i?(_.railh&&a?_.doScrollPos(0,0):_.doScrollTo(0),c=!0):35===i||63275===i?(_.railh&&a?_.doScrollPos(_.page.maxw,_.page.maxh):_.doScrollTo(_.page.maxh),c=!0):32===i?Y.spacebarenabled&&(n?_.doScrollBy(_.view.h):_.doScrollBy(-_.view.h),c=!0):27===i?_.zoomactive&&(_.doZoom(),c=!0):void 0,c)return _.cancelEvent(o)}},Y.enablekeyboard&&_.bind(u,H.isopera&&!H.isopera12?"keypress":"keydown",_.onkeypress),_.bind(u,"keydown",function(o){var e=o.ctrlKey||!1;e&&(_.wheelprevented=!0)}),_.bind(u,"keyup",function(o){var e=o.ctrlKey||!1;e||(_.wheelprevented=!1)}),_.bind(p,"blur",function(){_.wheelprevented=!1}),_.bind(p,"resize",_.onscreenresize),_.bind(p,"orientationchange",_.onscreenresize),_.bind(p,"load",_.lazyResize),H.ischrome&&!_.ispage&&!_.haswrapper){var P=_.win.attr("style"),X=parseFloat(_.win.css("width"))+1;_.win.css("width",X),_.synched("chromefix",function(){_.win.attr("style",P)})}if(_.onAttributeChange=function(){_.lazyResize(_.isieold?250:30)},Y.enableobserver&&(_.isie11||!1===y||(_.observerbody=new y(function(e){if(e.forEach(function(e){if("attributes"==e.type)return N.hasClass("modal-open")&&N.hasClass("modal-dialog")&&!h.contains(h(".modal-dialog")[0],_.doc[0])?_.hide():_.show()}),_.me.clientWidth!=_.page.width||_.me.clientHeight!=_.page.height)return _.lazyResize(30)}),_.observerbody.observe(u.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!_.ispage&&!_.haswrapper)){var I=_.win[0];!1===y?(_.bind(I,H.isie&&!H.isie9?"propertychange":"DOMAttrModified",_.onAttributeChange),H.isie9&&I.attachEvent("onpropertychange",_.onAttributeChange),_.bind(I,"DOMNodeRemoved",function(o){o.target===I&&_.remove()})):(_.observer=new y(function(e){e.forEach(_.onAttributeChange)}),_.observer.observe(I,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),_.observerremover=new y(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var o in e.removedNodes)if(!!_&&e.removedNodes[o]===I)return _.remove()})}),_.observerremover.observe(I.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1}))}!_.ispage&&Y.boxzoom&&_.bind(p,"resize",_.resizeZoom),_.istextarea&&(_.bind(_.win,"keydown",_.lazyResize),_.bind(_.win,"mouseup",_.lazyResize)),_.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var O=function(){_.iframexd=!1;var o;try{o="contentDocument"in this?this.contentDocument:this.contentWindow._doc;o.domain}catch(r){_.iframexd=!0,o=!1}if(_.iframexd)return"console"in p&&console.log("NiceScroll error: policy restriced iframe"),!0;if(_.forcescreen=!0,_.isiframe&&(_.iframe={doc:h(o),html:_.doc.contents().find("html")[0],body:_.doc.contents().find("body")[0]},_.getContentSize=function(){return{w:r(_.iframe.html.scrollWidth,_.iframe.body.scrollWidth),h:r(_.iframe.html.scrollHeight,_.iframe.body.scrollHeight)}},_.docscroll=h(_.iframe.body)),!H.isios&&Y.iframeautoresize&&!_.isiframe){_.win.scrollTop(0),_.doc.height("");var l=r(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight);_.doc.height(l)}_.lazyResize(30),_.css(h(_.iframe.body),e),H.isios&&_.haswrapper&&_.css(h(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?_.bind(this.contentWindow,"scroll",_.onscroll):_.bind(o,"scroll",_.onscroll),Y.enablemousewheel&&_.mousewheel(o,_.onmousewheel),Y.enablekeyboard&&_.bind(o,H.isopera?"keypress":"keydown",_.onkeypress),H.cantouch?(_.bind(o,"touchstart",_.ontouchstart),_.bind(o,"touchmove",_.ontouchmove)):Y.emulatetouch&&(_.bind(o,"mousedown",_.ontouchstart),_.bind(o,"mousemove",function(o){return _.ontouchmove(o,!0)}),Y.grabcursorenabled&&H.cursorgrabvalue&&_.css(h(o.body),{cursor:H.cursorgrabvalue})),_.bind(o,"mouseup",_.ontouchend),_.zoom&&(Y.dblclickzoom&&_.bind(o,"dblclick",_.doZoom),_.ongesturezoom&&_.bind(o,"gestureend",_.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){O.call(_.doc[0],!1)},500),_.bind(this.doc,"load",O)}},this.showCursor=function(e,o){if(_.cursortimeout&&(clearTimeout(_.cursortimeout),_.cursortimeout=0),!!_.rail){if(_.autohidedom&&(_.autohidedom.stop().css({opacity:Y.cursoropacitymax}),_.cursoractive=!0),_.rail.drag&&1==_.rail.drag.pt||(void 0!==e&&!1!==e&&(_.scroll.y=0|e/_.scrollratio.y),void 0!==o&&(_.scroll.x=0|o/_.scrollratio.x)),_.cursor.css({height:_.cursorheight,top:_.scroll.y}),_.cursorh){var r=_.hasreversehr?_.scrollvaluemaxw-_.scroll.x:_.scroll.x;_.cursorh.css({width:_.cursorwidth,left:!_.rail.align&&_.rail.visibility?r+_.rail.width:r}),_.cursoractive=!0}_.zoom&&_.zoom.stop().css({opacity:Y.cursoropacitymax})}},this.hideCursor=function(e){_.cursortimeout||!_.rail||!_.autohidedom||_.hasmousefocus&&"leave"===Y.autohidemode||(_.cursortimeout=setTimeout(function(){_.rail.active&&_.showonmouseevent||(_.autohidedom.stop().animate({opacity:Y.cursoropacitymin}),_.zoom&&_.zoom.stop().animate({opacity:Y.cursoropacitymin}),_.cursoractive=!1),_.cursortimeout=0},e||Y.hidecursordelay))},this.noticeCursor=function(e,o,r){_.showCursor(o,r),_.rail.active||_.hideCursor(e)},this.getContentSize=_.ispage?function(){return{w:r(u.body.scrollWidth,u.documentElement.scrollWidth),h:r(u.body.scrollHeight,u.documentElement.scrollHeight)}}:_.haswrapper?function(){return{w:_.doc[0].offsetWidth,h:_.doc[0].offsetHeight}}:function(){return{w:_.docscroll[0].scrollWidth,h:_.docscroll[0].scrollHeight}},this.onResize=function(l,e){if(!_||!_.win)return!1;var t=_.page.maxh,s=_.page.maxw,i=_.view.h,a=_.view.w;if(_.view={w:_.ispage?_.win.width():_.win[0].clientWidth,h:_.ispage?_.win.height():_.win[0].clientHeight},_.page=e?e:_.getContentSize(),_.page.maxh=r(0,_.page.h-_.view.h),_.page.maxw=r(0,_.page.w-_.view.w),_.page.maxh==t&&_.page.maxw==s&&_.view.w==a&&_.view.h==i)if(!_.ispage){var n=_.win.offset();if(_.lastposition){var c=_.lastposition;if(c.top==n.top&&c.left==n.left)return _}_.lastposition=n}else return _;if(0===_.page.maxh?(_.hideRail(),_.scrollvaluemax=0,_.scroll.y=0,_.scrollratio.y=0,_.cursorheight=0,_.setScrollTop(0),_.rail&&(_.rail.scrollable=!1)):(_.page.maxh-=Y.railpadding.top+Y.railpadding.bottom,_.rail.scrollable=!0),0===_.page.maxw?(_.hideRailHr(),_.scrollvaluemaxw=0,_.scroll.x=0,_.scrollratio.x=0,_.cursorwidth=0,_.setScrollLeft(0),_.railh&&(_.railh.scrollable=!1)):(_.page.maxw-=Y.railpadding.left+Y.railpadding.right,_.railh&&(_.railh.scrollable=Y.horizrailenabled)),_.railslocked=_.locked||0===_.page.maxh&&0===_.page.maxw,_.railslocked)return _.ispage||_.updateScrollBar(_.view),!1;_.hidden||(!_.rail.visibility&&_.showRail(),_.railh&&!_.railh.visibility&&_.showRailHr()),_.istextarea&&_.win.css("resize")&&"none"!=_.win.css("resize")&&(_.view.h-=20),_.cursorheight=o(_.view.h,M(_.view.h*(_.view.h/_.page.h))),_.cursorheight=Y.cursorfixedheight?Y.cursorfixedheight:r(Y.cursorminheight,_.cursorheight),_.cursorwidth=o(_.view.w,M(_.view.w*(_.view.w/_.page.w))),_.cursorwidth=Y.cursorfixedheight?Y.cursorfixedheight:r(Y.cursorminheight,_.cursorwidth),_.scrollvaluemax=_.view.h-_.cursorheight-(Y.railpadding.top+Y.railpadding.bottom),_.hasborderbox||(_.scrollvaluemax-=_.cursor[0].offsetHeight-_.cursor[0].clientHeight),_.railh&&(_.railh.width=0<_.page.maxh?_.view.w-_.rail.width:_.view.w,_.scrollvaluemaxw=_.railh.width-_.cursorwidth-(Y.railpadding.left+Y.railpadding.right)),_.ispage||_.updateScrollBar(_.view),_.scrollratio={x:_.page.maxw/_.scrollvaluemaxw,y:_.page.maxh/_.scrollvaluemax};var d=_.getScrollTop();return d>_.page.maxh?_.doScrollTop(_.page.maxh):(_.scroll.y=0|_.getScrollTop()/_.scrollratio.y,_.scroll.x=0|_.getScrollLeft()/_.scrollratio.x,_.cursoractive&&_.noticeCursor()),_.scroll.y&&0===_.getScrollTop()&&_.doScrollTo(0|_.scroll.y*_.scrollratio.y),_},this.resize=_.onResize;var D=0;this.onscreenresize=function(){clearTimeout(D);var e=!_.ispage&&!_.haswrapper;e&&_.hideRails(),D=setTimeout(function(){_&&(e&&_.showRails(),_.resize()),D=0},120)},this.lazyResize=function(e){return clearTimeout(D),e=isNaN(e)?240:e,D=setTimeout(function(){_&&_.resize(),D=0},e),_},this.jqbind=function(e,o,r){_.events.push({e:e,n:o,f:r,q:!0}),h(e).on(o,r)},this.mousewheel=function(e,o,r){var l="jquery"in e?e[0]:e;if("onwheel"in u.createElement("div"))_._bind(l,"wheel",o,r||!1);else{var t=void 0===u.onmousewheel?"DOMMouseScroll":"mousewheel";E(l,t,o,r||!1),"DOMMouseScroll"==t&&E(l,"MozMousePixelScroll",o,r||!1)}};var A=!1;if(H.haseventlistener){try{var q=Object.defineProperty({},"passive",{get:function(){A=!0}});p.addEventListener("test",null,q)}catch(e){}this.stopPropagation=function(o){return!!o&&(o=o.original?o.original:o,o.stopPropagation(),!1)},this.cancelEvent=function(o){return o.cancelable&&o.preventDefault(),o.stopImmediatePropagation(),o.preventManipulation&&o.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},p.constructor.prototype.addEventListener=u.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,o){this.attachEvent("on"+e,o)},p.constructor.prototype.removeEventListener=u.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,o){this.detachEvent("on"+e,o)},this.cancelEvent=function(o){return o=o||p.event,o&&(o.cancelBubble=!0,o.cancel=!0,o.returnValue=!1),!1},this.stopPropagation=function(o){return o=o||p.event,o&&(o.cancelBubble=!0),!1};this.delegate=function(e,o,r,l,t){var s=g[o]||!1;s||(s={a:[],l:[],f:function(o){for(var e=s.l,t=e.length-1,l=!1,i=t;0<=i;i--)if(l=e[i].call(o.target,o),!1===l)return!1;return l}},_.bind(e,o,s.f,l,t),g[o]=s),_.ispage?(s.a=[_.id].concat(s.a),s.l=[r].concat(s.l)):(s.a.push(_.id),s.l.push(r))},this.undelegate=function(e,o){var r=g[o]||!1;if(r&&r.l)for(var t=0,s=r.l.length;t<s;t++)r.a[t]===_.id&&(r.a.splice(t),r.l.splice(t),0===r.a.length&&(_._unbind(e,o,r.l.f),g[o]=null))},this.bind=function(e,o,r,l,t){var s="jquery"in e?e[0]:e;_._bind(s,o,r,l||!1,t||!1)},this._bind=function(e,o,r,l,t){_.events.push({e:e,n:o,f:r,b:l,q:!1}),A&&(t||e==window.document||e==window.document.body||e==window)?e.addEventListener(o,r,{passive:!1,capture:l}):e.addEventListener(o,r,l||!1)},this._unbind=function(e,o,r,l){g[o]?_.undelegate(e,o,r,l):e.removeEventListener(o,r,l)},this.unbindAll=function(){for(var e,o=0;o<_.events.length;o++)e=_.events[o],e.q?e.e.unbind(e.n,e.f):_._unbind(e.e,e.n,e.f,e.b)},this.showRails=function(){return _.showRail().showRailHr()},this.showRail=function(){return 0!==_.page.maxh&&(_.ispage||"none"!=_.win.css("display"))&&(_.rail.visibility=!0,_.rail.css("display","block")),_},this.showRailHr=function(){return _.railh&&0!==_.page.maxw&&(_.ispage||"none"!=_.win.css("display"))&&(_.railh.visibility=!0,_.railh.css("display","block")),_},this.hideRails=function(){return _.hideRail().hideRailHr()},this.hideRail=function(){return _.rail.visibility=!1,_.rail.css("display","none"),_},this.hideRailHr=function(){return _.railh&&(_.railh.visibility=!1,_.railh.css("display","none")),_},this.show=function(){return _.hidden=!1,_.railslocked=!1,_.showRails()},this.hide=function(){return _.hidden=!0,_.railslocked=!0,_.hideRails()},this.toggle=function(){return _.hidden?_.show():_.hide()},this.remove=function(){for(var e in _.stop(),_.cursortimeout&&clearTimeout(_.cursortimeout),_.delaylist)_.delaylist[e]&&b(_.delaylist[e].h);_.doZoomOut(),_.unbindAll(),H.isie9&&_.win[0].detachEvent("onpropertychange",_.onAttributeChange),!1!==_.observer&&_.observer.disconnect(),!1!==_.observerremover&&_.observerremover.disconnect(),!1!==_.observerbody&&_.observerbody.disconnect(),_.events=null,_.cursor&&_.cursor.remove(),_.cursorh&&_.cursorh.remove(),_.rail&&_.rail.remove(),_.railh&&_.railh.remove(),_.zoom&&_.zoom.remove();for(var o,r=0;r<_.saved.css.length;r++)o=_.saved.css[r],o[0].css(o[1],void 0===o[2]?"":o[2]);_.saved=!1,_.me.data("__nicescroll","");var l=h.nicescroll;for(var t in l.each(function(e){if(this&&this.id===_.id){delete l[e];for(var o=++e;o<l.length;o++,e++)l[e]=l[o];l.length--,l.length&&delete l[l.length]}}),_)_[t]=null,delete _[t];_=null},this.scrollstart=function(e){return this.onscrollstart=e,_},this.scrollend=function(e){return this.onscrollend=e,_},this.scrollcancel=function(e){return this.onscrollcancel=e,_},this.zoomin=function(e){return this.onzoomin=e,_},this.zoomout=function(e){return this.onzoomout=e,_},this.isScrollable=function(o){var e=o.target?o.target:o;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&e!==this.me[0]&&!/^BODY|HTML/.test(e.nodeName);){var r=h(e),l=r.css("overflowY")||r.css("overflowX")||r.css("overflow")||"";if(/scroll|auto/.test(l))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(e){for(var o,r=!!(e&&e.parentNode)&&e.parentNode;r&&1==r.nodeType&&!/^BODY|HTML/.test(r.nodeName);){if(o=h(r),/fixed|absolute/.test(o.css("position")))return o;var l=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(l)&&r.clientHeight!=r.scrollHeight)return o;if(0<o.getNiceScroll().length)return o;r=!!r.parentNode&&r.parentNode}return!1},this.triggerScrollStart=function(e,o,r,l,t){if(_.onscrollstart){var s={type:"scrollstart",current:{x:e,y:o},request:{x:r,y:l},end:{x:_.newscrollx,y:_.newscrolly},speed:t};_.onscrollstart.call(_,s)}},this.triggerScrollEnd=function(){if(_.onscrollend){var e=_.getScrollLeft(),o=_.getScrollTop();_.onscrollend.call(_,{type:"scrollend",current:{x:e,y:o},end:{x:e,y:o}})}};var W=0,j=0,Z=0,F=1,U=!1;if(this.onmousewheel=function(o){if(_.wheelprevented||_.locked)return!1;if(_.railslocked)return _.debounced("checkunlock",_.resize,250),!1;if(_.rail.drag)return _.cancelEvent(o);if("auto"===Y.oneaxismousemode&&0!==o.deltaX&&(Y.oneaxismousemode=!1),Y.oneaxismousemode&&0===o.deltaX&&!_.rail.scrollable)return!(_.railh&&_.railh.scrollable)||_.onmousewheelhr(o);var e=f(),r=!1;if(Y.preservenativescrolling&&_.checkarea+600<e&&(_.nativescrollingarea=_.isScrollable(o),r=!0),_.checkarea=e,_.nativescrollingarea)return!0;var l=C(o,!1,r);return l&&(_.checkarea=0),l},this.onmousewheelhr=function(o){if(!_.wheelprevented){if(_.railslocked||!_.railh.scrollable)return!0;if(_.rail.drag)return _.cancelEvent(o);var e=f(),r=!1;return Y.preservenativescrolling&&_.checkarea+600<e&&(_.nativescrollingarea=_.isScrollable(o),r=!0),_.checkarea=e,!!_.nativescrollingarea||(_.railslocked?_.cancelEvent(o):C(o,!0,r))}},this.stop=function(){return _.cancelScroll(),_.scrollmon&&_.scrollmon.stop(),_.cursorfreezed=!1,_.scroll.y=M(_.getScrollTop()*(1/_.scrollratio.y)),_.noticeCursor(),_},this.getTransitionSpeed=function(e){return 0|80+e/72*Y.scrollspeed},!Y.smoothscroll)this.doScrollLeft=function(e,o){var r=_.getScrollTop();_.doScrollPos(e,r,o)},this.doScrollTop=function(e,o){var r=_.getScrollLeft();_.doScrollPos(r,e,o)},this.doScrollPos=function(e,o){var r=e>_.page.maxw?_.page.maxw:e;0>r&&(r=0);var l=o>_.page.maxh?_.page.maxh:o;0>l&&(l=0),_.synched("scroll",function(){_.setScrollTop(l),_.setScrollLeft(r)})},this.cancelScroll=function(){};else if(_.ishwscroll&&H.hastransition&&Y.usetransition&&!!Y.smoothscroll){var K="";this.resetTransition=function(){K="",_.doc.css(H.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,o){var r=o?e:_.getTransitionSpeed(e),l=r+"ms";return K!==l&&(K=l,_.doc.css(H.prefixstyle+"transition-duration",l)),r},this.doScrollLeft=function(e,o){var r=_.scrollrunning?_.newscrolly:_.getScrollTop();_.doScrollPos(e,r,o)},this.doScrollTop=function(e,o){var r=_.scrollrunning?_.newscrollx:_.getScrollLeft();_.doScrollPos(r,e,o)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var o=function(){e.running&&w(o),_.showCursor(_.getScrollTop(),_.getScrollLeft()),_.notifyScrollEvent(_.win[0])};w(o)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,o){var r=_.getScrollTop(),l=_.getScrollLeft();if((0>(_.newscrolly-r)*(o-r)||0>(_.newscrollx-l)*(e-l))&&_.cancelScroll(),Y.bouncescroll?(0>o?o=0|o/2:o>_.page.maxh&&(o=0|_.page.maxh+(o-_.page.maxh)/2),0>e?e=0|e/2:e>_.page.maxw&&(e=0|_.page.maxw+(e-_.page.maxw)/2)):(0>o?o=0:o>_.page.maxh&&(o=_.page.maxh),0>e?e=0:e>_.page.maxw&&(e=_.page.maxw)),_.scrollrunning&&e==_.newscrollx&&o==_.newscrolly)return!1;_.newscrolly=o,_.newscrollx=e;var t=_.getScrollTop(),s=_.getScrollLeft(),i={};i.x=e-s,i.y=o-t;var a=0|P(i.x*i.x+i.y*i.y),n=_.prepareTransition(a);_.scrollrunning||(_.scrollrunning=!0,_.triggerScrollStart(s,t,e,o,n),_.cursorupdate.start()),_.scrollendtrapped=!0,H.transitionend||(_.scrollendtrapped&&clearTimeout(_.scrollendtrapped),_.scrollendtrapped=setTimeout(_.onScrollTransitionEnd,n)),_.setScrollTop(_.newscrolly),_.setScrollLeft(_.newscrollx)},this.cancelScroll=function(){if(!_.scrollendtrapped)return!0;var e=_.getScrollTop(),o=_.getScrollLeft();return _.scrollrunning=!1,H.transitionend||clearTimeout(H.transitionend),_.scrollendtrapped=!1,_.resetTransition(),_.setScrollTop(e),_.railh&&_.setScrollLeft(o),_.timerscroll&&_.timerscroll.tm&&clearInterval(_.timerscroll.tm),_.timerscroll=!1,_.cursorfreezed=!1,_.cursorupdate.stop(),_.showCursor(e,o),_},this.onScrollTransitionEnd=function(){if(_.scrollendtrapped){var e=_.getScrollTop(),o=_.getScrollLeft();return 0>e?e=0:e>_.page.maxh&&(e=_.page.maxh),0>o?o=0:o>_.page.maxw&&(o=_.page.maxw),e!=_.newscrolly||o!=_.newscrollx?_.doScrollPos(o,e,Y.snapbackspeed):void(_.scrollrunning&&_.triggerScrollEnd(),_.scrollrunning=!1,_.scrollendtrapped=!1,_.resetTransition(),_.timerscroll=!1,_.setScrollTop(e),_.railh&&_.setScrollLeft(o),_.cursorupdate.stop(),_.noticeCursor(!1,e,o),_.cursorfreezed=!1)}}}else this.doScrollLeft=function(e,o){var r=_.scrollrunning?_.newscrolly:_.getScrollTop();_.doScrollPos(e,r,o)},this.doScrollTop=function(e,o){var r=_.scrollrunning?_.newscrollx:_.getScrollLeft();_.doScrollPos(r,e,o)},this.doScrollPos=function(e,o){var r=_.getScrollTop(),l=_.getScrollLeft();(0>(_.newscrolly-r)*(o-r)||0>(_.newscrollx-l)*(e-l))&&_.cancelScroll();var t=!1;if(_.bouncescroll&&_.rail.visibility||(0>o?(o=0,t=!0):o>_.page.maxh&&(o=_.page.maxh,t=!0)),_.bouncescroll&&_.railh.visibility||(0>e?(e=0,t=!0):e>_.page.maxw&&(e=_.page.maxw,t=!0)),_.scrollrunning&&_.newscrolly===o&&_.newscrollx===e)return!0;_.newscrolly=o,_.newscrollx=e,_.dst={},_.dst.x=e-l,_.dst.y=o-r,_.dst.px=l,_.dst.py=r;var s=0|P(_.dst.x*_.dst.x+_.dst.y*_.dst.y),i=_.getTransitionSpeed(s);_.bzscroll={};var a=t?1:.58;_.bzscroll.x=new I(l,_.newscrollx,i,0,0,a,1),_.bzscroll.y=new I(r,_.newscrolly,i,0,0,a,1);var n=f(),c=function(){if(_.scrollrunning){var e=_.bzscroll.y.getPos();_.setScrollLeft(_.bzscroll.x.getNow()),_.setScrollTop(_.bzscroll.y.getNow()),1>=e?_.timer=w(c):(_.scrollrunning=!1,_.timer=0,_.triggerScrollEnd())}};_.scrollrunning||(_.triggerScrollStart(l,r,e,o,i),_.scrollrunning=!0,_.timer=w(c))},this.cancelScroll=function(){return _.timer&&b(_.timer),_.timer=0,_.bzscroll=!1,_.scrollrunning=!1,_};this.doScrollBy=function(e){L(0,e)},this.doScrollLeftBy=function(e){L(e,0)},this.doScrollTo=function(e,o){var r=o?M(e*_.scrollratio.y):e;0>r?r=0:r>_.page.maxh&&(r=_.page.maxh),_.cursorfreezed=!1,_.doScrollTop(e)},this.checkContentSize=function(){var e=_.getContentSize();(e.h!=_.page.h||e.w!=_.page.w)&&_.resize(!1,e)},_.onscroll=function(){_.rail.drag||!_.cursorfreezed&&_.synched("scroll",function(){_.scroll.y=M(_.getScrollTop()/_.scrollratio.y),_.railh&&(_.scroll.x=M(_.getScrollLeft()/_.scrollratio.x)),_.noticeCursor()})},_.bind(_.docscroll,"scroll",_.onscroll),this.doZoomIn=function(o){if(!_.zoomactive){_.zoomactive=!0,_.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],r=_.win[0].style;for(var l in e){var t=e[l];_.zoomrestore.style[t]=void 0===r[t]?"":r[t]}_.zoomrestore.style.width=_.win.css("width"),_.zoomrestore.style.height=_.win.css("height"),_.zoomrestore.padding={w:_.win.outerWidth()-_.win.width(),h:_.win.outerHeight()-_.win.height()},H.isios4&&(_.zoomrestore.scrollTop=m.scrollTop(),m.scrollTop(0)),_.win.css({position:H.isios4?"absolute":"fixed",top:0,left:0,zIndex:c+100,margin:0});var s=_.win.css("backgroundColor");return(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&_.win.css("backgroundColor","#fff"),_.rail.css({zIndex:c+101}),_.zoom.css({zIndex:c+102}),_.zoom.css("backgroundPosition","0 -18px"),_.resizeZoom(),_.onzoomin&&_.onzoomin.call(_),_.cancelEvent(o)}},this.doZoomOut=function(o){if(_.zoomactive)return _.zoomactive=!1,_.win.css("margin",""),_.win.css(_.zoomrestore.style),H.isios4&&m.scrollTop(_.zoomrestore.scrollTop),_.rail.css({"z-index":_.zindex}),_.zoom.css({"z-index":_.zindex}),_.zoomrestore=!1,_.zoom.css("backgroundPosition","0 0"),_.onResize(),_.onzoomout&&_.onzoomout.call(_),_.cancelEvent(o)},this.doZoom=function(o){return _.zoomactive?_.doZoomOut(o):_.doZoomIn(o)},this.resizeZoom=function(){if(_.zoomactive){var e=_.getScrollTop();_.win.css({width:m.width()-_.zoomrestore.padding.w+"px",height:m.height()-_.zoomrestore.padding.h+"px"}),_.onResize(),_.setScrollTop(o(_.page.maxh,e))}},this.init(),h.nicescroll.push(this)},T=function(e){var s=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,o){s.stop(),s.steptime=0,s.lasttime=f(),s.speedx=0,s.speedy=0,s.lastx=e,s.lasty=o,s.lastscrollx=-1,s.lastscrolly=-1},this.update=function(e,o){var r=f();s.steptime=r-s.lasttime,s.lasttime=r;var l=o-s.lasty,t=e-s.lastx,i=s.nc.getScrollTop(),a=s.nc.getScrollLeft(),n=i+l,c=a+t;s.snapx=0>c||c>s.nc.page.maxw,s.snapy=0>n||n>s.nc.page.maxh,s.speedx=t,s.speedy=l,s.lastx=e,s.lasty=o},this.stop=function(){s.nc.unsynched("domomentum2d"),s.timer&&clearTimeout(s.timer),s.timer=0,s.lastscrollx=-1,s.lastscrolly=-1},this.doSnapy=function(e,o){var r=!1;0>o?(o=0,r=!0):o>s.nc.page.maxh&&(o=s.nc.page.maxh,r=!0),0>e?(e=0,r=!0):e>s.nc.page.maxw&&(e=s.nc.page.maxw,r=!0),r?s.nc.doScrollPos(e,o,s.nc.opt.snapbackspeed):s.nc.triggerScrollEnd()},this.doMomentum=function(e){var i=f(),t=e?i+e:s.lasttime,l=s.nc.getScrollLeft(),a=s.nc.getScrollTop(),n=s.nc.page.maxh,c=s.nc.page.maxw;s.speedx=0<c?o(60,s.speedx):0,s.speedy=0<n?o(60,s.speedy):0;var d=t&&60>=i-t;(0>a||a>n||0>l||l>c)&&(d=!1);var h=!!(s.speedy&&d)&&s.speedy,u=!!(s.speedx&&d)&&s.speedx;if(h||u){var p=r(16,s.steptime);if(50<p){var m=p/50;s.speedx*=m,s.speedy*=m,p=50}s.demulxy=0,s.lastscrollx=s.nc.getScrollLeft(),s.chkx=s.lastscrollx,s.lastscrolly=s.nc.getScrollTop(),s.chky=s.lastscrolly;var g=s.lastscrollx,w=s.lastscrolly,b=function(){var e=Math.floor,r=600<f()-i?.04:.02;s.speedx&&(g=e(s.lastscrollx-s.speedx*(1-s.demulxy)),s.lastscrollx=g,(0>g||g>c)&&(r=.1)),s.speedy&&(w=e(s.lastscrolly-s.speedy*(1-s.demulxy)),s.lastscrolly=w,(0>w||w>n)&&(r=.1)),s.demulxy=o(1,s.demulxy+r),s.nc.synched("domomentum2d",function(){if(s.speedx){s.nc.getScrollLeft();s.chkx=g,s.nc.setScrollLeft(g)}if(s.speedy){s.nc.getScrollTop();s.chky=w,s.nc.setScrollTop(w)}s.timer||(s.nc.hideCursor(),s.doSnapy(g,w))}),1>s.demulxy?s.timer=setTimeout(b,p):(s.stop(),s.nc.hideCursor(),s.doSnapy(g,w))};b()}else s.doSnapy(s.nc.getScrollLeft(),s.nc.getScrollTop())}},E=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e){var o=h.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():E.call(e)},set:function(e,o){var r=h.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollTop(parseInt(o)):E.call(e,o),this}},e.fn.scrollTop=function(e){if(e===void 0){var o=!!this[0]&&(h.data(this[0],"__nicescroll")||!1);return o&&o.ishwscroll?o.getScrollTop():E.call(this)}return this.each(function(){var o=h.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(e)):E.call(h(this),e)})};var L=e.fn.scrollLeft;h.cssHooks.pageXOffset={get:function(e){var o=h.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():L.call(e)},set:function(e,o){var r=h.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollLeft(parseInt(o)):L.call(e,o),this}},e.fn.scrollLeft=function(e){if(e===void 0){var o=!!this[0]&&(h.data(this[0],"__nicescroll")||!1);return o&&o.ishwscroll?o.getScrollLeft():L.call(this)}return this.each(function(){var o=h.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):L.call(h(this),e)})};var C=function(e){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return h.each(o,e),o},this.push=function(e){o[o.length]=e,o.length++},this.eq=function(e){return o[e]},e)for(var r,l=0;l<e.length;l++)r=h.data(e[l],"__nicescroll")||!1,r&&(this[this.length]=r,this.length++);return this};(function(e,o,r){for(var t=0,s=o.length;t<s;t++)r(e,o[t])})(C.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(o,e){o[e]=function(){var o=arguments;return this.each(function(){this[e].apply(this,o)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new C(this):this[e]&&h.data(this[e],"__nicescroll")||!1};var P=e.expr.pseudos||e.expr[":"];P.nicescroll=function(e){return h.data(e,"__nicescroll")!==void 0},h.fn.niceScroll=function(e,o){void 0!==o||"object"!=typeof e||"jquery"in e||(o=e,e=!1);var r=new C;return this.each(function(){var l=h(this),t=h.extend({},o);if(e||!1){var s=h(e);t.doc=1<s.length?h(e,l):s,t.win=l}var i=!("doc"in t);i||"win"in t||(t.win=l);var a=l.data("__nicescroll")||!1;a||(t.doc=t.doc||l,a=new k(t,l),l.data("__nicescroll",a)),r.push(a)}),1===r.length?r[0]:r},p.NiceScroll={getjQuery:function(){return e}},h.nicescroll||(h.nicescroll=new C,h.nicescroll.options=x)});